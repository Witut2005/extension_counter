"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const Switch_1 = require("./Args/Switch");
const ArgCollection_1 = require("./ArgCollection");
class Parser {
    static parse(args) {
        const argCollection = new ArgCollection_1.default();
        let index = 0;
        let currentArg = args[index];
        while (currentArg && !Switch_1.default.isSwitch(currentArg)) {
            argCollection.appendCommand(currentArg);
            currentArg = args[++index];
        }
        while (currentArg) {
            let nextArg = args[index + 1];
            if (nextArg) {
                if (Switch_1.default.isSwitch(nextArg)) {
                    argCollection.addSwitch(currentArg);
                    currentArg = args[++index];
                }
                else {
                    const values = [];
                    index++;
                    while (nextArg && !Switch_1.default.isSwitch(nextArg)) {
                        values.push(nextArg);
                        nextArg = args[++index];
                    }
                    argCollection.addSwitch(currentArg, values);
                    currentArg = nextArg;
                }
            }
            else {
                argCollection.addSwitch(currentArg);
                currentArg = args[++index];
            }
        }
        return argCollection;
    }
}
exports.default = Parser;
//# sourceMappingURL=Parser.js.map